@page "/"
@using Models
@using System.Collections.Generic;
@using DNP_Assignment1.Persistence
@inject FileContext _fileContext;

<h1>Hello, world!</h1>

Welcome to your new app.

<button class="btn btn-primary" @onclick="AddButton">
        Add
    </button>


@code{
    public Adult _adult = new()
    {
        Id = 293346,
        Age = 21,
        Height = 180,
        Sex = "M",
        Weight = 73,
        EyeColor = "brown",
        FirstName = "Radovan",
        HairColor = "brown",
        LastName = "Santa", JobTitle = new Job()
        {
            JobTitle = "Student",
            Salary = 15000
        }
    };

    protected override void OnInitialized()
    {

    }


    private void AddButton()
    {
        _fileContext.Adults.Insert(_fileContext.Adults.Count,_adult);
        _fileContext.SaveChanges();
        Console.Out.WriteLine(_fileContext.Adults.Count);
    }

}

<SurveyPrompt Title="How is Blazor working for you?"/>